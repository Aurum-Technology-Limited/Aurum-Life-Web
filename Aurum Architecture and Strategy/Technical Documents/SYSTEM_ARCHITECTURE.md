# Aurum Life System Architecture

**Last Updated:** January 2025  
**Document Type:** Technical Architecture Documentation

---

## ðŸ—ï¸ High-Level Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                   CLIENT LAYER                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   Web Browser   â”‚     â”‚  Mobile Browser â”‚     â”‚   Future: iOS   â”‚         â”‚
â”‚  â”‚   (React SPA)   â”‚     â”‚ (Responsive PWA)â”‚     â”‚   Future: Androidâ”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚           â”‚                       â”‚                         â”‚                   â”‚
â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                   â”‚                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                   â–¼                                             â”‚
â”‚                           LOAD BALANCER                                         â”‚
â”‚                        (Nginx/Cloudflare)                                       â”‚
â”‚                                   â”‚                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                          APPLICATION LAYER                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                   â”‚                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚                        KUBERNETES CLUSTER                         â”‚          â”‚
â”‚  â”‚                                                                  â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚  â”‚  â”‚  Frontend Pod   â”‚  â”‚  Frontend Pod   â”‚  â”‚  Frontend Pod   â”‚ â”‚          â”‚
â”‚  â”‚  â”‚  (React Build)  â”‚  â”‚  (React Build)  â”‚  â”‚  (React Build)  â”‚ â”‚          â”‚
â”‚  â”‚  â”‚   Port: 3000    â”‚  â”‚   Port: 3000    â”‚  â”‚   Port: 3000    â”‚ â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚  â”‚                                                                  â”‚          â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚
â”‚  â”‚  â”‚  Backend Pod    â”‚  â”‚  Backend Pod    â”‚  â”‚  Backend Pod    â”‚ â”‚          â”‚
â”‚  â”‚  â”‚   (FastAPI)     â”‚  â”‚   (FastAPI)     â”‚  â”‚   (FastAPI)     â”‚ â”‚          â”‚
â”‚  â”‚  â”‚   Port: 8001    â”‚  â”‚   Port: 8001    â”‚  â”‚   Port: 8001    â”‚ â”‚          â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚
â”‚  â”‚           â”‚                    â”‚                    â”‚            â”‚          â”‚
â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚          â”‚
â”‚  â”‚                                â”‚                                 â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                   â”‚                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                            SERVICE LAYER                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                   â”‚                                             â”‚
â”‚      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚      â”‚                                                         â”‚              â”‚
â”‚      â–¼                              â–¼                          â–¼              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚   Redis     â”‚            â”‚   Celery     â”‚          â”‚   HRM/AI     â”‚       â”‚
â”‚  â”‚   Cache     â”‚            â”‚   Workers    â”‚          â”‚   Service    â”‚       â”‚
â”‚  â”‚  Port: 6379 â”‚            â”‚  (Async Jobs)â”‚          â”‚  (Internal)  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                    â”‚                          â”‚               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              DATA LAYER                        â”‚               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚                           â”‚               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚                         SUPABASE PLATFORM                          â”‚        â”‚
â”‚  â”‚                                                                   â”‚        â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚        â”‚
â”‚  â”‚  â”‚  PostgreSQL  â”‚  â”‚   Realtime   â”‚  â”‚   Storage    â”‚         â”‚        â”‚
â”‚  â”‚  â”‚   Database   â”‚  â”‚  WebSockets  â”‚  â”‚   (Files)    â”‚         â”‚        â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚         â”‚        â”‚
â”‚  â”‚  â”‚  - users     â”‚  â”‚ - Live updatesâ”‚  â”‚ - Avatars    â”‚         â”‚        â”‚
â”‚  â”‚  â”‚  - pillars   â”‚  â”‚ - Presence   â”‚  â”‚ - Attachmentsâ”‚         â”‚        â”‚
â”‚  â”‚  â”‚  - areas     â”‚  â”‚              â”‚  â”‚              â”‚         â”‚        â”‚
â”‚  â”‚  â”‚  - projects  â”‚  â”‚              â”‚  â”‚              â”‚         â”‚        â”‚
â”‚  â”‚  â”‚  - tasks     â”‚  â”‚              â”‚  â”‚              â”‚         â”‚        â”‚
â”‚  â”‚  â”‚  - insights  â”‚  â”‚              â”‚  â”‚              â”‚         â”‚        â”‚
â”‚  â”‚  â”‚  - hrm_rules â”‚  â”‚              â”‚  â”‚              â”‚         â”‚        â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚        â”‚
â”‚  â”‚                                                                   â”‚        â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚        â”‚
â”‚  â”‚  â”‚                 AUTH SERVICE                      â”‚           â”‚        â”‚
â”‚  â”‚  â”‚         (Supabase Auth / JWT Tokens)            â”‚           â”‚        â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚                                                                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                           EXTERNAL SERVICES                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  Google      â”‚  â”‚   SendGrid   â”‚  â”‚   Gemini     â”‚  â”‚   AWS S3     â”‚    â”‚
â”‚  â”‚  OAuth 2.0   â”‚  â”‚    Email     â”‚  â”‚   AI API     â”‚  â”‚  (Backup)    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ”„ Data Flow Patterns

### 1. **User Authentication Flow**
```
User â†’ React App â†’ FastAPI â†’ Supabase Auth â†’ JWT Token â†’ Authenticated Session
```

### 2. **AI Analysis Request Flow**
```
User Action â†’ React â†’ FastAPI â†’ HRM Service â†’ Gemini API â†’ Blackboard Storage â†’ Response
                                      â†“
                                 Redis Cache
```

### 3. **Real-time Updates Flow**
```
Database Change â†’ Supabase Realtime â†’ WebSocket â†’ React App â†’ UI Update
```

### 4. **File Upload Flow**
```
User Upload â†’ React (Chunked) â†’ FastAPI â†’ Supabase Storage â†’ URL Reference in DB
```

## ðŸ›ï¸ Component Architecture

### Frontend Architecture (React)
```
src/
â”œâ”€â”€ components/           # UI Components
â”‚   â”œâ”€â”€ ai/              # AI-specific components
â”‚   â”‚   â”œâ”€â”€ AICommandCenter.jsx
â”‚   â”‚   â”œâ”€â”€ HRMInsightCard.jsx
â”‚   â”‚   â””â”€â”€ AIInsightsDashboard.jsx
â”‚   â”œâ”€â”€ core/            # Core PAPT components
â”‚   â”‚   â”œâ”€â”€ Pillars.jsx
â”‚   â”‚   â”œâ”€â”€ Areas.jsx
â”‚   â”‚   â”œâ”€â”€ Projects.jsx
â”‚   â”‚   â””â”€â”€ Tasks.jsx
â”‚   â””â”€â”€ shared/          # Shared components
â”œâ”€â”€ services/            # API Services
â”‚   â”œâ”€â”€ api.js          # Base API configuration
â”‚   â”œâ”€â”€ auth.js         # Authentication
â”‚   â””â”€â”€ insights.js     # HRM/AI services
â”œâ”€â”€ contexts/           # React Contexts
â”‚   â”œâ”€â”€ AuthContext.js
â”‚   â””â”€â”€ DataContext.js
â””â”€â”€ hooks/              # Custom React Hooks
```

### Backend Architecture (FastAPI)
```
backend/
â”œâ”€â”€ models.py           # Pydantic models
â”œâ”€â”€ server.py           # Main FastAPI app
â”œâ”€â”€ hrm_service.py      # HRM implementation
â”œâ”€â”€ blackboard_service.py # Insights storage
â”œâ”€â”€ hrm_rules_engine.py # Rules execution
â”œâ”€â”€ services/           # Business logic
â”‚   â”œâ”€â”€ task_service.py
â”‚   â”œâ”€â”€ project_service.py
â”‚   â””â”€â”€ analytics_service.py
â”œâ”€â”€ middleware/         # Custom middleware
â”‚   â”œâ”€â”€ auth.py
â”‚   â””â”€â”€ rate_limit.py
â””â”€â”€ utils/             # Utilities
```

### Database Schema Architecture
```
public schema
â”œâ”€â”€ Authentication
â”‚   â”œâ”€â”€ auth.users (Supabase managed)
â”‚   â””â”€â”€ user_profiles
â”œâ”€â”€ PAPT Hierarchy
â”‚   â”œâ”€â”€ pillars
â”‚   â”œâ”€â”€ areas
â”‚   â”œâ”€â”€ projects
â”‚   â””â”€â”€ tasks
â”œâ”€â”€ AI/HRM System
â”‚   â”œâ”€â”€ insights
â”‚   â”œâ”€â”€ hrm_rules
â”‚   â”œâ”€â”€ hrm_user_preferences
â”‚   â””â”€â”€ hrm_feedback_log
â”œâ”€â”€ Supporting
â”‚   â”œâ”€â”€ journal_entries
â”‚   â”œâ”€â”€ journal_templates
â”‚   â”œâ”€â”€ notifications
â”‚   â””â”€â”€ resources
â””â”€â”€ Indexes & Triggers
```

## ðŸ” Security Architecture

### Authentication & Authorization
- **JWT Tokens**: Stateless authentication
- **Row Level Security (RLS)**: Database-level access control
- **API Key Management**: For external service integration
- **CORS Configuration**: Restrictive cross-origin policies

### Data Protection
- **Encryption at Rest**: Supabase managed
- **Encryption in Transit**: HTTPS/TLS 1.3
- **PII Handling**: Minimal collection, secure storage
- **Audit Logging**: All data modifications tracked

## ðŸš€ Deployment Architecture

### Container Strategy
```yaml
Frontend Container:
  - Base: node:18-alpine
  - Build: React production build
  - Serve: Nginx
  - Health checks: /health

Backend Container:
  - Base: python:3.11-slim
  - Framework: FastAPI + Uvicorn
  - Process Manager: Supervisor
  - Health checks: /api/health
```

### Scaling Strategy
- **Horizontal Scaling**: Pod autoscaling based on CPU/Memory
- **Load Balancing**: Round-robin with health checks
- **Database Pooling**: Connection pooling for PostgreSQL
- **Cache Strategy**: Redis for session and API response caching

## ðŸ“Š Monitoring & Observability

### Metrics Collection
- **Application Metrics**: Response times, error rates
- **Infrastructure Metrics**: CPU, memory, disk usage
- **Business Metrics**: User activity, feature adoption

### Logging Strategy
```
Application Logs â†’ Structured JSON â†’ Log Aggregator â†’ Monitoring Dashboard
```

### Alert Conditions
- API response time > 2 seconds
- Error rate > 5%
- Database connection pool exhaustion
- AI API quota approaching limit

## ðŸ”„ Backup & Recovery

### Backup Strategy
- **Database**: Daily automated backups (30-day retention)
- **File Storage**: Replicated across regions
- **Configuration**: Version controlled in Git

### Disaster Recovery
- **RTO (Recovery Time Objective)**: 4 hours
- **RPO (Recovery Point Objective)**: 24 hours
- **Failover**: Manual promotion of read replica

## ðŸ”§ Development & CI/CD

### Development Flow
```
Local Development â†’ Git Push â†’ CI Pipeline â†’ Staging â†’ Production
```

### CI/CD Pipeline
1. **Code Quality**: Linting, formatting checks
2. **Testing**: Unit, integration, E2E tests
3. **Security Scan**: Dependency vulnerabilities
4. **Build**: Docker images
5. **Deploy**: Rolling update to Kubernetes

## ðŸ“ˆ Performance Targets

- **API Response Time**: < 200ms (p95)
- **Page Load Time**: < 2 seconds
- **Time to Interactive**: < 3 seconds
- **AI Analysis Time**: < 3 seconds
- **Concurrent Users**: 10,000
- **Uptime**: 99.9%

---

This architecture is designed for scalability, maintainability, and performance while keeping infrastructure costs reasonable for a startup.